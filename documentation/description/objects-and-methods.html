<!DOCTYPE html>
<html>
    <head>
        
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
        
        <title>Language Description: 1. Objects and Methods (The Sandpiper Programming Language)</title>
        
        <link href="/typography/typography.css" rel="stylesheet">
        <link href="/style/sandpiper.css" rel="stylesheet">
        
        
    </head>
    <body>
        
        <div class="container">
        
            <header>
                <h1>Sandpiper <small>Programming Language</small></h1>
            </header>
            
            <nav>
                <a href="/"><div>Home</div></a>
                <a href="/documentation/description" class="selected"><div>Language Description</div></a>
                <!-- <a href="/documentation/reference"><div>Language Reference</div></a> -->
                <a href="/documentation/reference/library"><div>Library Reference</div></a>
                <a href="/pipers"><div>Makers of Sandpiper</div></a>
            </nav>
            
            
            <main>
                <nav><a href="/documentation/description">Table of Contents</a></nav>
                
                <article>
                    <h3>1. Objects and Methods</h3>
                    
                    <article>

                    <h4>Objects</h4>

                    <p>Everything you can refer to in Sandpiper is an object. Objects in Sandpiper are very similar to objects in other languages—they have state, they have methods, and they participate in a class structrue—except that they are almost always immutable.</p>

                    </article>

                    <article>

                    <h4>Simple Method Calls</h4>

                    <p>Most of the work in Sandpiper is done by calling methods on objects, and usually those methods simply return values and don’t cause side-effects. Let’s take a look at something like that:</p>

                    <pre><code>“foo”: reversed</code></pre>

                    <p>This will return <code>“oof”</code>, the result of calling (<code>:</code>) the method <code>reversed</code> on the object <code>“foo”</code>. We’d call <code>“foo”</code> the <em>receiver</em> in this case, because it receives the “reversed” message.</p>

                    <p>Method calls can, of course, take arguments:</p>

                    <pre><code>“hoge, fuga, piyo”: split “, ”</code></pre>

                    <p>This returns a 3-item list by separating out the parts of the receiving string <code>“hoge, fuga, piyo”</code>. The method is <code>split</code>, and the argument is <code>“, ”</code>. Methods that take multiple arguments divide the method name into pieces, and insert the arguments in between:</p>

                    <pre><code>“hoge, fuga, piyo”: replace “, ” with “ ”</code></pre>

                    <p>Again, we’re calling (using the <code>:</code> operator) the method <code>replace with</code> on the object <code>“hoge, fuga, piyo”</code>, with the arguments <code>“, ”</code> and <code>“ ”</code>. This syntax is similar to Smalltalk or Objective-C, except that it changes the role of the colon.</p>

                    <p>As a point of terminology, where the object to the left of the colon is the “receiver,” the terms <code>replace “, ” with “ ”</code> after the colon we refer to as the “method incantation.” This is separate from the “method name,” which is <code>replace/with/</code>, each <code>/</code> indicating the place for an argument in the incantation.</p>

                    </article>

                    <article>

                    <h4>Side Effects</h4>

                    <p>So far, we haven’t made a program that actually <em>does</em> anything. Let’s—um—<em>do</em> that right now.</p>

                    <p>There’s an object that’s always available called <code>Stdout</code>, short for “standard out,” and it’s how we put text out to a terminal. It has a method called <code>puts/!</code> which takes a piece of text for its sole argument, prints it out, and follows it with a newline character.</p>

                    <pre><code>Stdout: puts “Hello, world!” !</code></pre>

                    <p>The method ends in a bang (<code>!</code>) to indicate it performs side-effects, in addition to just returning a value. (This is required by Sandpiper; otherwise, the method might never get called!)</p>

                    <p>In fact, this code is a complete program which you can run. (well, erm, when the compiler’s available.)</p>

                    <p>You can nest expressions, just as you’d expect:</p>

                    <pre><code>Stdout: puts (“hoge, fuga, piyo”: replace “, ” with “ ”) !</code></pre>

                    <p>which outputs “hoge fuga piyo”. Natch!</p>

                    </article>
                    
                    
                    <article>
                        <h4 id="method_chaining">Method Chaining</h4>

                        <p>You can very intuitively chain method calls together. Instead of doing <code>replace/with/</code>, we could do</p>

                        <pre><code>“hoge, fuga, piyo”: split “, ”: join “ ”</code></pre>

                        <p>This splits the “hoge, fuga, piyo” string, into a list of the individual words; on that list we then call <code>join</code> which puts the elements back together into one string, with a single space separating them.</p>
                        
                    </article>
                    
                    
                    <article>
                        <h4>A Note on Quotation Marks</h4>
                        <p>
                            It is proper, in Sandpiper, to use real quotation marks (“”) that have
                            an explicit open- and close-side, when writing string literals.
                            This is not <em>just</em> for readability, but as a small token of
                            resistance against the tyrrany of the historically-improper
                            typewriter quote, <code>"</code>.
                        </p><p>
                            If this becomes burdensome to type, you may use lousy keyboard-quotes ("")
                            instead. But you may not mix the two styles for the same string:
                            In <code>“foo"</code>, the <code>"</code> will fail to end the string,
                            gobbling up the rest of your code after it. 
                            Likewise for <code>"foo”</code>.
                        </p>
                    </article>
                    
                    
                </article>
                
            </main>
            
            
            
            <article id="sosumi">
                <p>Copyright © 2015, The Maintainers of the Sandpiper Language, <a href="/pipers">as listed here</a>. Sandpiper is <a href="/LICENSE.txt">MIT Licensed</a>.</p>
            </article>
            
            
        
        </div>
        
    </body>
</html>
